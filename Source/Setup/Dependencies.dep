<?xml version="1.0" encoding="utf-8" ?>
<DependencyCheckerConfiguration>

  <title>Use Access Control Service to Federate with Multiple Business Identity Providers</title>
  <welcomeText>
    Before you can compile and run the provided content in this lab, you must install the required software and configure your computer. The Configuration Wizard will scan your system for the required software and step you through the required configuration.
    Click Next to continue or Cancel to exit the Configuration Wizard.
  </welcomeText>

  <previews>
    <title>Steps Summary</title>
    <preview name="Check dependencies" description="Check prerequisites for the Advanced Windows Azure Access Control Lab"></preview>
    <!--<preview name="Setup certificates" description="Install and configure certificates for the lab (WARNING: this setup will overwrite any existing certificate with subject “CN=localhost” on your local machine store)"></preview>
    <preview name="Create Virtual Directories in IIS" description="Create Virtual Directories in IIS for the solutions (WARNING: this will delete existing Virtual Directories with matching names: CustomersService, ContosoAuthorizationServer, FabrikamWebSite)"></preview>
    <preview name="Setup Security Token Visualizer control" description="Install Security Token Visualizer control"></preview>
    <preview name="Build the ACS Configuration Tool" description="Build the ACS Configuration Tool"></preview>-->
  </previews>

  <tasks>
    <!--<task description="Install Visual Studio 2010 Code Snippets for the lab" scriptName=".\Scripts\InstallCodeSnippets.cmd" displayConsole="true" />-->
    <!--<task description="Setup Certificates" scriptName=".\Scripts\SetupCertificates.cmd" displayConsole="true" />
    <task description="Create Virtual Directories in IIS" scriptName=".\Scripts\CreateVirtualDirectories.cmd" displayConsole="true" />
    <task description="Setup Security Token Visualizer control" scriptName=".\Scripts\BuildSecurityTokenVisualizerControl.cmd" displayConsole="true" />
    <task description="Build the ACS Configuration Tool" scriptName=".\Scripts\BuildACSConfigurationTool.cmd" displayConsole="true" />-->
  </tasks>

  <dependencies>
    <os type="Vista;Server" buildNumber="6002">
      <dependency
                      value=".\scripts\Dependencies\Check\CheckVS2010.ps1"
                      enabled="true"
                      optional="true"
                      title="Microsoft Visual Studio 2010"
                      explanation="Install Microsoft Visual Studio 2010"
                      scriptName=""
                      downloadUrl="http://www.microsoft.com/visualstudio/" />

      <dependency
                      value=".\scripts\Dependencies\Check\CheckIIS7.ps1"
                      enabled="true"
                      optional="false"
            required="true"
                      title="Microsoft IIS7"
                      explanation="Enable the Internet Information Services 7 feature with ASP.NET enabled."
                      scriptName=".\scripts\Dependencies\Setup\install-iis.bat" />

      <dependency
                      value=".\scripts\Dependencies\Check\CheckASPNET4.ps1"
                      enabled="true"
                      optional="false"
            required="true"
                      title="ASP.NET 4 registered on IIS7"
                      explanation="Register ASP.NET 4 on IIS7"
                      scriptName=".\scripts\Dependencies\Setup\install-aspnet4.bat" />

      <dependency
                            value=".\scripts\Dependencies\Check\CheckIISStaticContent.ps1"
                            enabled="true"
                            optional="false"
                            title="IIS Static Content"
                            explanation="Install the IIS Static Content."
                            scriptName=".\scripts\Dependencies\Setup\install-StaticContent.bat" />

      <dependency
                value=".\scripts\Dependencies\Check\CheckWCFHTTPAct.ps1"
                enabled="true"
                optional="false"
                title="WCF HTTP Activation"
                explanation="Enable the WCF HTTP Activation feature."
                scriptName=".\scripts\Dependencies\Setup\install-WCFHTTPAct.bat" />
      <dependency
            value=".\scripts\Dependencies\Check\CheckWifRuntime.ps1"
            enabled="true"
            optional="false"
            title="Windows Identity Foundation Runtime"
            explanation="Windows Identity Foundation Runtime is required."
            scriptName=""
            downloadUrl="http://support.microsoft.com/kb/974405" />

      <dependency
            value=".\scripts\Dependencies\Check\CheckWifSdk4.ps1"
            enabled="true"
            optional="false"
            title="Microsoft Windows Identity Foundation SDK 4.0"
            explanation="Windows Identity Foundation SDK is required."
            scriptName=""
            downloadUrl="http://www.microsoft.com/downloads/details.aspx?familyid=C148B2DF-C7AF-46BB-9162-2C9422208504" />

    </os>

    <os type="Vista;Server" buildNumber="7600;7601">

      <dependency
                      value=".\scripts\Dependencies\Check\CheckVS2010.ps1"
                      enabled="true"
                      optional="true"
                      title="Microsoft Visual Studio 2010"
                      explanation="Install Microsoft Visual Studio 2010"
                      scriptName=""
                      downloadUrl="http://www.microsoft.com/visualstudio/" />

      <dependency
                      value=".\scripts\Dependencies\Check\CheckIIS7.ps1"
                      enabled="true"
                      optional="false"
            required="true"
                      title="Microsoft IIS7"
                      explanation="Enable the Internet Information Services 7 feature with ASP.NET enabled."
                      scriptName=".\scripts\Dependencies\Setup\install-iis.bat" />

      <dependency
                      value=".\scripts\Dependencies\Check\CheckASPNET4.ps1"
                      enabled="true"
                      optional="false"
            required="true"
                      title="ASP.NET 4 registered on IIS7"
                      explanation="Register ASP.NET 4 on IIS7"
                      scriptName=".\scripts\Dependencies\Setup\install-aspnet4.bat" />

      <dependency
                              value=".\scripts\Dependencies\Check\CheckIISStaticContent.ps1"
                              enabled="true"
                              optional="false"
                              title="IIS Static Content"
                              explanation="Install the IIS Static Content."
                              scriptName=".\scripts\Dependencies\Setup\install-StaticContent.bat" />


      <dependency
            value=".\scripts\Dependencies\Check\CheckWCFHTTPAct.ps1"
            enabled="true"
            optional="false"
            title="WCF HTTP Activation"
            explanation="Enable the WCF HTTP Activation feature."
            scriptName=".\scripts\Dependencies\Setup\install-WCFHTTPAct.bat" />

      <dependency
            value=".\scripts\Dependencies\Check\CheckLoadUserProfile.ps1"
            enabled="true"
            optional="false"
            title="ASP.NET v4.0 App Pool - Load User Profile"
            explanation="Enable Load User Profile for ASP.NET v4.0 App Pool"
            scriptName=".\scripts\Dependencies\Setup\enableLoadUserProfile.bat" />

      <dependency
            value=".\scripts\Dependencies\Check\CheckWifRuntime.ps1"
            enabled="true"
            optional="false"
            title="Windows Identity Foundation Runtime"
            explanation="Windows Identity Foundation Runtime is required"
            scriptName=""
            downloadUrl="http://support.microsoft.com/kb/974405" />

      <dependency
            value=".\scripts\Dependencies\Check\CheckWifSdk4.ps1"
            enabled="true"
            optional="false"
            title="Microsoft Windows Identity Foundation SDK 4.0"
            explanation="Windows Identity Foundation SDK is required"
            scriptName=""
            downloadUrl="http://www.microsoft.com/downloads/details.aspx?familyid=C148B2DF-C7AF-46BB-9162-2C9422208504" />
    </os>
  </dependencies>

  <errorMessages>
    <errorMessage error="OperatingSystemNotSupported">
      <![CDATA[<b>Your current OS is not supported by this Training Kit. This lab uses Windows Identitiy Foundation that requieres Windows Vista SP2, Windows Server 2008 SP2, Windows 7 or Windows Server 2008 R2.</b><br/><br/><br/><br/><br/><br/>]]>
    </errorMessage>
  </errorMessages>

</DependencyCheckerConfiguration>